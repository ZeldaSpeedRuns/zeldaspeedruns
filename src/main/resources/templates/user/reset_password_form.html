<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{user/auth_layout}">
<head>
    <title th:text="#{user.reset-password.title}">Account Recovery</title>
</head>
<body>
<form method="post" action="#" class="auth-form" layout:fragment="form"
      th:action="${#mvc.url('ZUC#postPasswordResetForm').arg(0, param.token).build()}" th:object="${form}">
    <div class="auth-form__header">
        <a th:href="@{/}">
            <img src="../../static/logo.svg" alt="ZSR logo" class="auth-logo"
                 th:src="@{/logo.svg}" th:alt="#{zeldaspeedruns.name}"/>
        </a>

        <h1 class="auth-form__title" th:text="#{user.reset-password.form.title}">
            Reset Password
        </h1>
    </div>

    <ul class="form-error-list" th:if="${#fields.hasGlobalErrors()}">
        <li th:errors="*"></li>
    </ul>

    <div class="form-group">
        <div class="form-field">
            <label for="password" class="form-field__label"
                   th:text="#{user.reset-password.form.password.label}">
                Password
            </label>
            <input type="password" id="password" class="input" required autofocus
                   placeholder="email@example.com" th:placeholder="#{user.form.password.placeholder}"
                   th:field="*{password}" th:errorclass="input--error" />

            <ul th:if="${#fields.hasErrors('password')}" class="form-field__error-list">
                <li th:errors="*{password}"></li>
            </ul>
        </div>

        <div class="form-field">
            <label for="password-confirmation" class="form-field__label"
                   th:text="#{user.reset-password.form.confirm-password.label}">
                Confirm password
            </label>
            <input type="password" id="password-confirmation" class="input" required
                   placeholder="email@example.com" th:placeholder="#{user.form.password.placeholder}"
                   th:field="*{passwordConfirmation}" th:errorclass="input--error" />

            <ul th:if="${#fields.hasErrors('passwordConfirmation')}" class="form-field__error-list">
                <li th:errors="*{passwordConfirmation}"></li>
            </ul>
        </div>

        <button type="submit" class="button button--max auth-submit"
                th:text="#{user.reset-password.form.submit}">
            Submit
        </button>
    </div>

    <div class="form-group auth-form__footer">
        <div><a href="#" th:href="@{/user/login}"
                th:text="#{user.links.return-to-sign-in}">
            Return to log in page
        </a></div>
    </div>
</form>
</body>
</html>
